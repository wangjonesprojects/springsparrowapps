<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Sparrow Inventory Checklist</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .header p {
            font-size: 15px;
            line-height: 1.6;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
        }

        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }

        .nav-tab:hover {
            background: #e9ecef;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .theft-counter {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
        }

        .theft-counter.alert {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        }

        .theft-counter .days {
            font-size: 48px;
            font-weight: 800;
            display: block;
            margin: 10px 0;
        }

        .form-section {
            padding: 20px;
        }

        .inspection-date {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .inspection-date label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        .inspection-date input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        .room-section {
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            overflow: hidden;
        }

        .room-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            font-size: 20px;
            font-weight: 700;
        }

        .room-header.restock {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .item-row {
            padding: 15px 20px;
            border-bottom: 1px solid #e9ecef;
            background: white;
        }

        .item-row:last-child {
            border-bottom: none;
        }

        .item-row:nth-child(even) {
            background: #f8f9fa;
        }

        .item-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .radio-group {
            display: flex;
            gap: 20px;
        }

        .radio-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 15px;
        }

        .radio-label input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 15px;
            color: #d9534f;
            font-weight: 600;
        }

        .checkbox-label input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .notes-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            margin-top: 10px;
        }

        .restock-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .stock-level {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .stock-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 15px;
        }

        .stock-option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .stock-option.full {
            color: #5cb85c;
        }

        .stock-option.low {
            color: #f0ad4e;
        }

        .stock-option.empty {
            color: #d9534f;
        }

        .restock-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 15px;
            color: #667eea;
            font-weight: 600;
        }

        .restock-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .quantity-input {
            width: 80px;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            text-align: center;
        }

        .signature-section {
            background: #f8f9fa;
            padding: 25px;
            border-top: 3px solid #667eea;
        }

        .signature-section h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .signature-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .submit-btn .spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto;
        }

        .submit-btn.loading .spinner {
            display: block;
        }

        .submit-btn.loading .btn-text {
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .summary {
            background: #fff3cd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }

        .summary.show {
            display: block;
        }

        .summary h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .summary-stat {
            font-size: 16px;
            color: #856404;
            margin: 5px 0;
        }

        .calendar-container {
            padding: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-header h2 {
            color: #333;
            font-size: 24px;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            padding: 8px 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }

        .calendar-nav button:hover {
            background: #5568d3;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 30px;
        }

        .calendar-day-header {
            text-align: center;
            padding: 10px;
            font-weight: 700;
            color: #667eea;
            font-size: 14px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            background: white;
        }

        .calendar-day:hover {
            border-color: #667eea;
            transform: scale(1.05);
        }

        .calendar-day.other-month {
            opacity: 0.3;
            pointer-events: none;
        }

        .calendar-day.has-report {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 700;
        }

        .calendar-day.has-issues {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
            color: white;
            font-weight: 700;
        }

        .calendar-day-number {
            font-size: 16px;
        }

        .calendar-day-badge {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 8px;
            height: 8px;
            background: #f45c43;
            border-radius: 50%;
        }

        .reports-container {
            padding: 20px;
        }

        .reports-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .reports-header h2 {
            color: #333;
            font-size: 24px;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            background: #e9ecef;
            color: #333;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
        }

        .report-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .report-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .report-card.has-issues {
            border-left: 5px solid #f45c43;
        }

        .report-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .report-date {
            font-size: 20px;
            font-weight: 700;
            color: #333;
        }

        .report-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
        }

        .report-status.clean {
            background: #d4edda;
            color: #155724;
        }

        .report-status.issues {
            background: #f8d7da;
            color: #721c24;
        }

        .report-inspector {
            color: #666;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .report-summary {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .report-stat {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .report-stat.missing {
            color: #d9534f;
            font-weight: 600;
        }

        .report-stat.damaged {
            color: #f0ad4e;
            font-weight: 600;
        }

        .report-stat.clean {
            color: #5cb85c;
            font-weight: 600;
        }

        .report-stat.restock {
            color: #f5576c;
            font-weight: 600;
        }

        .no-reports {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .no-reports-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .export-btn {
            padding: 8px 16px;
            background: #5cb85c;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }

        .export-btn:hover {
            background: #4cae4c;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 16px 16px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 24px;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 32px;
            cursor: pointer;
            line-height: 1;
        }

        .modal-body {
            padding: 20px;
        }

        .detail-section {
            margin-bottom: 25px;
        }

        .detail-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        .detail-item {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 8px;
        }

        .detail-item strong {
            color: #333;
        }

        .email-notice {
            background: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 4px;
            font-size: 14px;
            color: #0c5460;
        }

        @media (max-width: 600px) {
            .controls {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .calendar-grid {
                gap: 2px;
            }
            
            .calendar-day {
                font-size: 12px;
            }
            
            .filter-buttons {
                width: 100%;
            }
            
            .filter-btn {
                flex: 1;
            }

            .stock-level {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† Spring Sparrow Inventory Checklist</h1>
            <p>Protecting our properties and preventing losses starts with accurate documentation. Please thoroughly inspect each item during turnover and report any missing or damaged property. Your diligence helps us maintain quality standards and address issues promptly.</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('checklist')">üìã New Checklist</button>
            <button class="nav-tab" onclick="switchTab('calendar')">üìÖ Calendar</button>
            <button class="nav-tab" onclick="switchTab('reports')">üìä Reports</button>
        </div>

        <div id="checklist-tab" class="tab-content active">
            <div class="theft-counter" id="theftCounter">
                <span class="days" id="daysSinceTheft">0</span>
                Days Without Theft
            </div>

            <div class="form-section">
                <div class="email-notice">
                    üìß Reports will be automatically emailed to: keeya@springsparrowhousing.com
                </div>

                <div class="inspection-date">
                    <label for="inspectionDate">Inspection Date:</label>
                    <input type="date" id="inspectionDate" required>
                </div>

                <form id="inventoryForm">
                    <div class="room-section">
                        <div class="room-header">üì± Electronics and Appliances </div>
                        <div class="item-row">
                            <div class="item-name">Dreo Cylinder Heater | Location: Living Room</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item1" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item1" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item1_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item1_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Alexa Speaker  | Location: Kitchen</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item2" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item2" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item2_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item2_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">DB Noise Level Monitor | Location: Kitchen</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item3" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item3" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item3_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item3_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Rectangle Sound Sleeping Noise Wood Machine | Location: Bedroom</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item4" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item4" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item4_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item4_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Roku Device | Location: Living Room - Behind TV</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item5" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item5" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item5_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item5_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Towel Warmer  | Location: Bathroom</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item6" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item6" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item6_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item6_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Electric Blanket | Location: Living Room</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item7" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item7" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item7_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item7_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Hair Dryer | Location: Bathroom</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item8" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item8" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item8_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item8_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">DREO Radiator Heater | Location: Living Room </div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item9" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item9" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item9_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item9_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Nespresso/Keurig Coffee Maker | Location: Kitchen</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item10" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item10" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item10_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item10_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Electrical Voltage Converter (EU Coffee Maker) | Location: Kitchen</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item11" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item11" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item11_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item11_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Microwave | Location: Kitchen</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item12" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item12" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item12_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item12_notes" placeholder="Notes (optional)">
                        </div>
                    </div>

                    <div class="room-section">
                        <div class="room-header">üç≥ Kitchen Dining and Cooking Items</div>
                        <div class="item-row">
                            <div class="item-name">Dishes Plate Count (All Present)</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item13" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item13" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item13_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item13_notes" placeholder="Notes (e.g., missing count)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Glasses Count (All Present)</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item14" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item14" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item14_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item14_notes" placeholder="Notes (e.g., missing count)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Silverware (All Present)</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item15" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item15" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item15_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item15_notes" placeholder="Notes (e.g., missing count)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Pots and Pans</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item16" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item16" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item16_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item16_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Stove Razor Scraper Tool</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item17" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item17" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item17_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item17_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Kitchen Trash Bags</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item18" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item18" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item18_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item18_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Kitchen Dishwasher Pods</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item19" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item19" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item19_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item19_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Kitchen Cooking Gloves</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item20" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item20" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item20_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item20_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Kitchen Cooking Hand Towels</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item21" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item21" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item21_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item21_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Soap and Dish Dispenser</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item22" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item22" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item22_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item22_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Kitchen Cooking Utensils</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item23" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item23" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item23_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item23_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Kitchen Colander / Pasta Drainer</div>
                            <div class="controls">
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="item24" value="yes" required> Yes
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="item24" value="no"> No
                                    </label>
                                </div>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="item24_damage"> Damaged
                                </label>
                            </div>
                            <input type="text" class="notes-input" name="item24_notes" placeholder="Notes (optional)">
                        </div>
                    </div>

                    <div class="room-section">
                        <div class="room-header restock">üß¥ Restocking - Bathroom Essentials</div>
                        
                        <div class="item-row">
                            <div class="item-name">Shampoo</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock1" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock1" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock1" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock1_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock1_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock1_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Conditioner</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock2" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock2" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock2" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock2_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock2_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock2_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Body Wash / Soap</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock3" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock3" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock3" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock3_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock3_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock3_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Hand Soap</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock4" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock4" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock4" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock4_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock4_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock4_notes" placeholder="Notes (optional)">
                        </div>
                    </div>

                    <div class="room-section">
                        <div class="room-header restock">üßΩ Restocking - Kitchen Essentials</div>
                        
                        <div class="item-row">
                            <div class="item-name">Dishwasher Pods</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock5" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock5" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock5" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock5_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock5_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock5_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Dish Soap / Detergent</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock6" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock6" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock6" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock6_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock6_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock6_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Hand Washing Soap</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock7" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock7" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock7" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock7_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock7_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock7_notes" placeholder="Notes (optional)">
                        </div>
                    </div>

                    <div class="room-section">
                        <div class="room-header restock">üç∑ Restocking - Guest Amenities</div>
                        
                        <div class="item-row">
                            <div class="item-name">Wine (Welcome Bottle)</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock8" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock8" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock8" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock8_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock8_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock8_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Water Bottles</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock9" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock9" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock9" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock9_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock9_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock9_notes" placeholder="Notes (optional)">
                        </div>

                        <div class="item-row">
                            <div class="item-name">Guest Snacks</div>
                            <div class="restock-controls">
                                <div class="stock-level">
                                    <label class="stock-option full">
                                        <input type="radio" name="restock10" value="full" required> Full Stock
                                    </label>
                                    <label class="stock-option low">
                                        <input type="radio" name="restock10" value="low"> Low Stock
                                    </label>
                                    <label class="stock-option empty">
                                        <input type="radio" name="restock10" value="empty"> Empty/Missing
                                    </label>
                                </div>
                                <label class="restock-checkbox">
                                    <input type="checkbox" name="restock10_needed"> Needs Restock
                                </label>
                                <input type="number" class="quantity-input" name="restock10_qty" placeholder="Qty" min="0">
                            </div>
                            <input type="text" class="notes-input" name="restock10_notes" placeholder="Notes (optional)">
                        </div>
                    </div>

                    <div class="summary" id="summary"></div>

                    <div class="signature-section">
                        <h3>Signature & Submission</h3>
                        <input type="text" class="signature-input" id="inspectorName" placeholder="Full Name" required>
                        <button type="submit" class="submit-btn" id="submitBtn">
                            <span class="btn-text">üìß Submit & Email Report</span>
                            <div class="spinner"></div>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <div id="calendar-tab" class="tab-content">
            <div class="calendar-container">
                <div class="calendar-header">
                    <h2 id="calendarMonthYear"></h2>
                    <div class="calendar-nav">
                        <button onclick="changeMonth(-1)">‚Üê Prev</button>
                        <button onclick="changeMonth(0)">Today</button>
                        <button onclick="changeMonth(1)">Next ‚Üí</button>
                    </div>
                </div>
                <div class="calendar-grid" id="calendarGrid"></div>
            </div>
        </div>

        <div id="reports-tab" class="tab-content">
            <div class="reports-container">
                <div class="reports-header">
                    <h2>All Reports</h2>
                    <div class="filter-buttons">
                        <button class="filter-btn active" onclick="filterReports('all')">All</button>
                        <button class="filter-btn" onclick="filterReports('clean')">Clean</button>
                        <button class="filter-btn" onclick="filterReports('issues')">Issues</button>
                        <button class="export-btn" onclick="exportReports()">üì• Export CSV</button>
                    </div>
                </div>
                <div id="reportsList"></div>
            </div>
        </div>
    </div>

    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Report Details</h2>
                <button class="close-modal" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
    <script> section
const correctPassword = "vita3046"; // Change this!
const userPassword = prompt("Enter access code:");
if (userPassword !== correctPassword) {
    document.body.innerHTML = "<h1>Access Denied</h1>";
    throw new Error("Access denied");
}
    </script>
    <script>
        const itemNames = {
            item1: { name: "Dreo Cylinder Heater", room: "Electronics" },
            item2: { name: "Alexa Speaker - Kitchen", room: "Electronics" },
            item3: { name: "Noise Monitor - Kitchen", room: "Electronics" },
            item4: { name: "Rectangle Sound Noise Wood Machine - Bedroom", room: "Electronics" },
            item5: { name: "Samsung TV Roku Device", room: "Electronics" },
            item6: { name: "Towel Warmer - Bathroom", room: "Electronics" },
            item7: { name: "Electric Blanket", room: "Electronics" },
            item8: { name: "Hair Dryer - Bathroom", room: "Electronics" },
            item9: { name: "DREO Radiator Heater - Living Room", room: "Electronics" },
            item10: { name: "Nespresso/Keurig Coffee Maker", room: "Electronics" },
            item11: { name: "Electrical Voltage Converter (EU Coffee Maker)", room: "Electronics" },
            item12: { name: "Microwave", room: "Electronics" },
            item13: { name: "Dishes Plate Count (All Present)", room: "Kitchen" },
            item14: { name: "Glasses Count (All Present)", room: "Kitchen" },
            item15: { name: "Silverware (All Present)", room: "Kitchen" },
            item16: { name: "Pots and Pans", room: "Kitchen" },
            item17: { name: "Stove Razor Scraper Tool", room: "Kitchen" },
            item18: { name: "Kitchen Trash Bags", room: "Kitchen" },
            item19: { name: "Kitchen Dishwasher Pods", room: "Kitchen" },
            item20: { name: "Kitchen Cooking Gloves", room: "Kitchen" },
            item21: { name: "Kitchen Cooking Hand Towels", room: "Kitchen" },
            item22: { name: "Soap and Dish Dispenser", room: "Kitchen" },
            item23: { name: "Kitchen Cooking Utensils", room: "Kitchen" },
            item24: { name: "Kitchen Colander / Pasta Drainer", room: "Kitchen" }
        };

        const restockItems = {
            restock1: { name: "Shampoo", room: "Bathroom Essentials" },
            restock2: { name: "Conditioner", room: "Bathroom Essentials" },
            restock3: { name: "Body Wash / Soap", room: "Bathroom Essentials" },
            restock4: { name: "Hand Soap", room: "Bathroom Essentials" },
            restock5: { name: "Dishwasher Pods", room: "Kitchen Essentials" },
            restock6: { name: "Dish Soap / Detergent", room: "Kitchen Essentials" },
            restock7: { name: "Hand Washing Soap", room: "Kitchen Essentials" },
            restock8: { name: "Wine (Welcome Bottle)", room: "Guest Amenities" },
            restock9: { name: "Water Bottles", room: "Guest Amenities" },
            restock10: { name: "Guest Snacks", room: "Guest Amenities" }
        };

        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let currentFilter = 'all';

        document.getElementById('inspectionDate').valueAsDate = new Date();

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(`${tabName}-tab`).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'calendar') {
                renderCalendar();
            } else if (tabName === 'reports') {
                renderReports();
            }
        }

        function updateTheftCounter() {
            const lastTheftDate = localStorage.getItem('lastTheftDate');
            const counterElement = document.getElementById('theftCounter');
            const daysElement = document.getElementById('daysSinceTheft');
            
            if (lastTheftDate) {
                const daysSince = Math.floor((new Date() - new Date(lastTheftDate)) / (1000 * 60 * 60 * 24));
                daysElement.textContent = daysSince;
                
                if (daysSince < 30) {
                    counterElement.classList.add('alert');
                } else {
                    counterElement.classList.remove('alert');
                }
            } else {
                const firstCheck = localStorage.getItem('firstCheckDate');
                if (firstCheck) {
                    const daysSince = Math.floor((new Date() - new Date(firstCheck)) / (1000 * 60 * 60 * 24));
                    daysElement.textContent = daysSince;
                } else {
                    daysElement.textContent = '0';
                    localStorage.setItem('firstCheckDate', new Date().toISOString());
                }
            }
        }

        updateTheftCounter();

        function sendEmailReport(report) {
            const date = new Date(report.date + 'T00:00:00');
            const formattedDate = date.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            const subject = `Spring Sparrow Inventory Report - ${formattedDate}`;
            
            let body = `SPRING SPARROW INVENTORY REPORT\n================================\n\n`;
            body += `Inspection Date: ${formattedDate}\nInspector: ${report.inspector}\n`;
            body += `Status: ${report.hasIssues ? 'ISSUES FOUND ‚ö†Ô∏è' : 'ALL CLEAR ‚úÖ'}\n\n`;
            
            if (report.missing.length > 0) {
                body += `MISSING ITEMS (${report.missing.length}):\n================================\n`;
                report.missing.forEach(item => body += `‚Ä¢ ${item}\n`);
                body += `\n`;
            }
            
            if (report.damaged.length > 0) {
                body += `DAMAGED ITEMS (${report.damaged.length}):\n================================\n`;
                report.damaged.forEach(item => body += `‚Ä¢ ${item}\n`);
                body += `\n`;
            }

            if (report.restockNeeded.length > 0) {
                body += `RESTOCKING NEEDED (${report.restockNeeded.length}):\n================================\n`;
                report.restockNeeded.forEach(item => body += `‚Ä¢ ${item}\n`);
                body += `\n`;
            }
            
            if (!report.hasIssues && report.restockNeeded.length === 0) {
                body += `All items present and in good condition. No restocking needed.\n\n`;
            }
            
            body += `COMPLETE INVENTORY:\n================================\n\n`;
            
            const itemsByRoom = {};
            report.allItems.forEach(item => {
                if (!itemsByRoom[item.room]) itemsByRoom[item.room] = [];
                itemsByRoom[item.room].push(item);
            });
            
            Object.keys(itemsByRoom).forEach(room => {
                body += `${room}:\n${'-'.repeat(room.length + 1)}\n`;
                itemsByRoom[room].forEach(item => {
                    const status = item.status === 'yes' ? '‚úì' : '‚úó';
                    const damage = item.damaged ? ' [DAMAGED]' : '';
                    const notes = item.notes ? ` - ${item.notes}` : '';
                    body += `${status} ${item.name}${damage}${notes}\n`;
                });
                body += `\n`;
            });

            if (report.restockItems && report.restockItems.length > 0) {
                body += `RESTOCKING DETAILS:\n================================\n\n`;
                
                const restockByRoom = {};
                report.restockItems.forEach(item => {
                    if (!restockByRoom[item.room]) restockByRoom[item.room] = [];
                    restockByRoom[item.room].push(item);
                });
                
                Object.keys(restockByRoom).forEach(room => {
                    body += `${room}:\n${'-'.repeat(room.length + 1)}\n`;
                    restockByRoom[room].forEach(item => {
                        const stockIcon = item.stockLevel === 'full' ? '‚úì' : (item.stockLevel === 'low' ? '‚ö†' : '‚úó');
                        const restockFlag = item.needsRestock ? ' [RESTOCK NEEDED]' : '';
                        const qty = item.quantity ? ` (Qty: ${item.quantity})` : '';
                        const notes = item.notes ? ` - ${item.notes}` : '';
                        body += `${stockIcon} ${item.name} - ${item.stockLevel.toUpperCase()}${restockFlag}${qty}${notes}\n`;
                    });
                    body += `\n`;
                });
            }
            
            body += `\n--\nThis report was generated automatically by the Spring Sparrow Inventory System.`;
            
            const mailtoLink = `mailto:keeya@springsparrowhousing.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = mailtoLink;
        }

        document.getElementById('inventoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.classList.add('loading');
            
            const formData = new FormData(e.target);
            const inspectionDate = document.getElementById('inspectionDate').value;
            const inspectorName = document.getElementById('inspectorName').value;
            
            let missing = [], damaged = [], theftDetected = false, allItems = [], restockNeeded = [], restockItemsData = [];
            
            for (let i = 1; i <= 24; i++) {
                const status = formData.get(`item${i}`);
                const isDamaged = formData.get(`item${i}_damage`);
                const notes = formData.get(`item${i}_notes`);
                const itemInfo = itemNames[`item${i}`];
                
                allItems.push({
                    name: itemInfo.name,
                    room: itemInfo.room,
                    status: status,
                    damaged: !!isDamaged,
                    notes: notes || ''
                });
                
                if (status === 'no') {
                    missing.push(itemInfo.name);
                    theftDetected = true;
                }
                if (isDamaged) damaged.push(itemInfo.name + (notes ? ` - ${notes}` : ''));
            }

            for (let i = 1; i <= 10; i++) {
                const stockLevel = formData.get(`restock${i}`);
                const needsRestock = formData.get(`restock${i}_needed`);
                const quantity = formData.get(`restock${i}_qty`);
                const notes = formData.get(`restock${i}_notes`);
                const restockInfo = restockItems[`restock${i}`];
                
                restockItemsData.push({
                    name: restockInfo.name,
                    room: restockInfo.room,
                    stockLevel: stockLevel,
                    needsRestock: !!needsRestock,
                    quantity: quantity || '',
                    notes: notes || ''
                });
                
                if (needsRestock || stockLevel === 'empty' || stockLevel === 'low') {
                    const qtyText = quantity ? ` (Qty: ${quantity})` : '';
                    const notesText = notes ? ` - ${notes}` : '';
                    restockNeeded.push(`${restockInfo.name} - ${stockLevel.toUpperCase()}${qtyText}${notesText}`);
                }
            }
            
            const report = {
                id: Date.now(),
                date: inspectionDate,
                inspector: inspectorName,
                missing: missing,
                damaged: damaged,
                restockNeeded: restockNeeded,
                allItems: allItems,
                restockItems: restockItemsData,
                hasIssues: missing.length > 0 || damaged.length > 0
            };
            
            let reports = JSON.parse(localStorage.getItem('inventoryReports') || '[]');
            reports.unshift(report);
            localStorage.setItem('inventoryReports', JSON.stringify(reports));
            
            if (theftDetected) {
                localStorage.setItem('lastTheftDate', inspectionDate);
                updateTheftCounter();
            }
            
            let summaryHTML = '<h3>üìã Inspection Summary</h3>';
            summaryHTML += `<div class="summary-stat"><strong>Date:</strong> ${inspectionDate}</div>`;
            summaryHTML += `<div class="summary-stat"><strong>Inspector:</strong> ${inspectorName}</div>`;
            
            if (missing.length > 0) {
                summaryHTML += `<div class="summary-stat" style="color: #d9534f; font-weight: 700;">‚ö†Ô∏è MISSING ITEMS (${missing.length}):</div>`;
                missing.forEach(item => summaryHTML += `<div style="color: #d9534f; margin-left: 20px;">‚Ä¢ ${item}</div>`);
            }
            
            if (damaged.length > 0) {
                summaryHTML += `<div class="summary-stat" style="color: #f0ad4e; font-weight: 700; margin-top: 10px;">üîß DAMAGED ITEMS (${damaged.length}):</div>`;
                damaged.forEach(item => summaryHTML += `<div style="color: #f0ad4e; margin-left: 20px;">‚Ä¢ ${item}</div>`);
            }

            if (restockNeeded.length > 0) {
                summaryHTML += `<div class="summary-stat" style="color: #f5576c; font-weight: 700; margin-top: 10px;">üß¥ RESTOCKING NEEDED (${restockNeeded.length}):</div>`;
                restockNeeded.forEach(item => summaryHTML += `<div style="color: #f5576c; margin-left: 20px;">‚Ä¢ ${item}</div>`);
            }
            
            if (missing.length === 0 && damaged.length === 0 && restockNeeded.length === 0) {
                summaryHTML += `<div class="summary-stat" style="color: #5cb85c; font-weight: 700;">‚úÖ All items present and in good condition! No restocking needed.</div>`;
            }
            
            const summaryDiv = document.getElementById('summary');
            summaryDiv.innerHTML = summaryHTML;
            summaryDiv.classList.add('show');
            summaryDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            
            setTimeout(() => {
                sendEmailReport(report);
                submitBtn.disabled = false;
                submitBtn.classList.remove('loading');
                alert('‚úÖ Inventory report submitted!\n\nüìß Your email client will open to send the report.');
                e.target.reset();
                document.getElementById('inspectionDate').valueAsDate = new Date();
            }, 500);
        });

        function renderCalendar() {
            const grid = document.getElementById('calendarGrid');
            const monthYear = document.getElementById('calendarMonthYear');
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            const prevLastDay = new Date(currentYear, currentMonth, 0);
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            
            monthYear.textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            let html = '';
            ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].forEach(day => {
                html += `<div class="calendar-day-header">${day}</div>`;
            });
            
            const reports = JSON.parse(localStorage.getItem('inventoryReports') || '[]');
            const reportsByDate = {};
            reports.forEach(report => reportsByDate[report.date] = report);
            
            const startDay = firstDay.getDay();
            for (let i = startDay - 1; i >= 0; i--) {
                const day = prevLastDay.getDate() - i;
                html += `<div class="calendar-day other-month"><span class="calendar-day-number">${day}</span></div>`;
            }
            
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const report = reportsByDate[dateStr];
                let classes = 'calendar-day';
                if (report) classes += report.hasIssues ? ' has-issues' : ' has-report';
                
                html += `<div class="${classes}" onclick="viewCalendarDay('${dateStr}')">
                    <span class="calendar-day-number">${day}</span>
                    ${report ? '<span class="calendar-day-badge"></span>' : ''}
                </div>`;
            }
            
            const remainingDays = 42 - (startDay + lastDay.getDate());
            for (let day = 1; day <= remainingDays; day++) {
                html += `<div class="calendar-day other-month"><span class="calendar-day-number">${day}</span></div>`;
            }
            
            grid.innerHTML = html;
        }

        function changeMonth(delta) {
            if (delta === 0) {
                currentMonth = new Date().getMonth();
                currentYear = new Date().getFullYear();
            } else {
                currentMonth += delta;
                if (currentMonth > 11) { currentMonth = 0; currentYear++; }
                else if (currentMonth < 0) { currentMonth = 11; currentYear--; }
            }
            renderCalendar();
        }

        function viewCalendarDay(dateStr) {
            const reports = JSON.parse(localStorage.getItem('inventoryReports') || '[]');
            const report = reports.find(r => r.date === dateStr);
            if (report) showReportModal(report);
            else alert('No report found for this date.');
        }

        function renderReports() {
            const container = document.getElementById('reportsList');
            let reports = JSON.parse(localStorage.getItem('inventoryReports') || '[]');
            
            if (currentFilter === 'clean') reports = reports.filter(r => !r.hasIssues);
            else if (currentFilter === 'issues') reports = reports.filter(r => r.hasIssues);
            
            if (reports.length === 0) {
                container.innerHTML = `<div class="no-reports"><div class="no-reports-icon">üìã</div><h3>No Reports Found</h3><p>Start by submitting your first inventory checklist.</p></div>`;
                return;
            }
            
            let html = '';
            reports.forEach(report => {
                const date = new Date(report.date + 'T00:00:00');
                const formattedDate = date.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                
                html += `<div class="report-card ${report.hasIssues ? 'has-issues' : ''}" onclick="showReportModal(${report.id})">
                    <div class="report-card-header">
                        <div class="report-date">${formattedDate}</div>
                        <div class="report-status ${report.hasIssues ? 'issues' : 'clean'}">
                            ${report.hasIssues ? '‚ö†Ô∏è Issues Found' : '‚úÖ All Clear'}
                        </div>
                    </div>
                    <div class="report-inspector">Inspector: ${report.inspector}</div>
                    <div class="report-summary">
                        ${report.missing?.length > 0 ? `<div class="report-stat missing">üö´ ${report.missing.length} Missing</div>` : ''}
                        ${report.damaged?.length > 0 ? `<div class="report-stat damaged">üîß ${report.damaged.length} Damaged</div>` : ''}
                        ${report.restockNeeded?.length > 0 ? `<div class="report-stat restock">üß¥ ${report.restockNeeded.length} Need Restock</div>` : ''}
                        ${!report.hasIssues && (!report.restockNeeded || report.restockNeeded.length === 0) ? `<div class="report-stat clean">‚úÖ All items accounted for</div>` : ''}
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        function filterReports(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderReports();
        }

        function showReportModal(reportIdOrObj) {
            const reports = JSON.parse(localStorage.getItem('inventoryReports') || '[]');
            const report = typeof reportIdOrObj === 'number' ? reports.find(r => r.id === reportIdOrObj) : reportIdOrObj;
            if (!report) return;
            
            const date = new Date(report.date + 'T00:00:00');
            const formattedDate = date.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            
            let html = `<div class="detail-section">
                <h3>Report Information</h3>
                <div class="detail-item"><strong>Date:</strong> ${formattedDate}</div>
                <div class="detail-item"><strong>Inspector:</strong> ${report.inspector}</div>
                <div class="detail-item"><strong>Status:</strong> <span style="color: ${report.hasIssues ? '#d9534f' : '#5cb85c'}; font-weight: 700;">${report.hasIssues ? '‚ö†Ô∏è Issues Found' : '‚úÖ All Clear'}</span></div>
            </div>`;
            
            if (report.missing?.length > 0) {
                html += `<div class="detail-section"><h3 style="color: #d9534f;">Missing Items (${report.missing.length})</h3>`;
                report.missing.forEach(item => html += `<div class="detail-item" style="color: #d9534f;">üö´ ${item}</div>`);
                html += `</div>`;
            }
            
            if (report.damaged?.length > 0) {
                html += `<div class="detail-section"><h3 style="color: #f0ad4e;">Damaged Items (${report.damaged.length})</h3>`;
                report.damaged.forEach(item => html += `<div class="detail-item" style="color: #f0ad4e;">üîß ${item}</div>`);
                html += `</div>`;
            }

            if (report.restockNeeded?.length > 0) {
                html += `<div class="detail-section"><h3 style="color: #f5576c;">Restocking Needed (${report.restockNeeded.length})</h3>`;
                report.restockNeeded.forEach(item => html += `<div class="detail-item" style="color: #f5576c;">üß¥ ${item}</div>`);
                html += `</div>`;
            }
            
            const itemsByRoom = {};
            if (report.allItems) {
                report.allItems.forEach(item => {
                    if (!itemsByRoom[item.room]) itemsByRoom[item.room] = [];
                    itemsByRoom[item.room].push(item);
                });
            }
            
            html += `<div class="detail-section"><h3>Complete Inventory</h3>`;
            Object.keys(itemsByRoom).forEach(room => {
                html += `<h4 style="margin-top: 15px; color: #667eea;">${room}</h4>`;
                itemsByRoom[room].forEach(item => {
                    const statusIcon = item.status === 'yes' ? '‚úÖ' : 'üö´';
                    const statusColor = item.status === 'yes' ? '#5cb85c' : '#d9534f';
                    const damageText = item.damaged ? ' | üîß Damaged' : '';
                    const notesText = item.notes ? ` | Notes: ${item.notes}` : '';
                    html += `<div class="detail-item"><span style="color: ${statusColor};">${statusIcon} ${item.name}</span>${damageText}${notesText}</div>`;
                });
            });
            html += `</div>`;

            if (report.restockItems?.length > 0) {
                const restockByRoom = {};
                report.restockItems.forEach(item => {
                    if (!restockByRoom[item.room]) restockByRoom[item.room] = [];
                    restockByRoom[item.room].push(item);
                });
                
                html += `<div class="detail-section"><h3>Restocking Status</h3>`;
                Object.keys(restockByRoom).forEach(room => {
                    html += `<h4 style="margin-top: 15px; color: #f5576c;">${room}</h4>`;
                    restockByRoom[room].forEach(item => {
                        const stockIcon = item.stockLevel === 'full' ? '‚úÖ' : (item.stockLevel === 'low' ? '‚ö†Ô∏è' : 'üö´');
                        const stockColor = item.stockLevel === 'full' ? '#5cb85c' : (item.stockLevel === 'low' ? '#f0ad4e' : '#d9534f');
                        const restockText = item.needsRestock ? ' | üîÑ RESTOCK NEEDED' : '';
                        const qtyText = item.quantity ? ` | Qty: ${item.quantity}` : '';
                        const notesText = item.notes ? ` | Notes: ${item.notes}` : '';
                        html += `<div class="detail-item"><span style="color: ${stockColor};">${stockIcon} ${item.name} - ${item.stockLevel.toUpperCase()}</span>${restockText}${qtyText}${notesText}</div>`;
                    });
                });
                html += `</div>`;
            }
            
            document.getElementById('modalBody').innerHTML = html;
            document.getElementById('reportModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('reportModal').classList.remove('show');
        }

        function exportReports() {
            const reports = JSON.parse(localStorage.getItem('inventoryReports') || '[]');
            if (reports.length === 0) { alert('No reports to export.'); return; }
            
            let csv = 'Date,Inspector,Status,Missing Count,Damaged Count,Restock Count,Missing Items,Damaged Items,Restock Items\n';
            reports.forEach(report => {
                const status = report.hasIssues ? 'Issues Found' : 'All Clear';
                const missingItems = report.missing ? report.missing.join('; ') : '';
                const damagedItems = report.damaged ? report.damaged.join('; ') : '';
                const restockItems = report.restockNeeded ? report.restockNeeded.join('; ') : '';
                csv += `"${report.date}","${report.inspector}","${status}",${report.missing?.length || 0},${report.damaged?.length || 0},${report.restockNeeded?.length || 0},"${missingItems}","${damagedItems}","${restockItems}"\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `spring-sparrow-reports-${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        document.getElementById('reportModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });

        renderCalendar();
    </script>
</body>
</html>
